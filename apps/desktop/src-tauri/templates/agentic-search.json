{
  "nodes": [
    { "id": "input_1", "type": "input", "position": { "x": 50, "y": 250 }, "data": { "name": "question", "dataType": "text", "default": "What are the key differences between Rust's ownership model and C++ RAII?" } },
    { "id": "loop_1", "type": "loop", "position": { "x": 300, "y": 250 }, "data": { "maxIterations": 5, "exitCondition": "evaluator", "feedbackMode": "append", "label": "Research" } },
    { "id": "llm_plan", "type": "llm", "position": { "x": 550, "y": 50 }, "data": { "label": "Search Planner", "provider": "local", "model": "qwen3-vl", "systemPrompt": "You are a research assistant. Given a question and possibly previous search results, output ONLY a concise search query to find NEW information not already covered. No explanation, just the search query.", "temperature": 0.3 } },
    { "id": "transform_url", "type": "transform", "position": { "x": 850, "y": 50 }, "data": { "label": "Build Search URL", "mode": "template", "template": "https://api.duckduckgo.com/?q={{llm_plan.response}}&format=json&no_html=1" } },
    { "id": "http_search", "type": "http_request", "position": { "x": 1150, "y": 50 }, "data": { "label": "DuckDuckGo", "method": "GET", "url": "", "timeout": 15 } },
    { "id": "llm_answer", "type": "llm", "position": { "x": 1450, "y": 200 }, "data": { "label": "Synthesize Answer", "provider": "local", "model": "qwen3-vl", "systemPrompt": "You are a research assistant. Given a question and search results, provide a clear, comprehensive answer. If the search results don't contain enough information, say INSUFFICIENT at the start of your response, then give the best answer you can.", "temperature": 0.5 } },
    { "id": "router_eval", "type": "router", "position": { "x": 1750, "y": 200 }, "data": { "label": "Good Enough?", "mode": "llm", "provider": "local", "model": "qwen3-vl", "branches": ["done", "continue"] } },
    { "id": "exit_1", "type": "exit", "position": { "x": 2050, "y": 150 }, "data": {} },
    { "id": "output_1", "type": "output", "position": { "x": 2300, "y": 250 }, "data": { "name": "answer", "format": "text" } }
  ],
  "edges": [
    { "id": "e-in-loop", "source": "input_1", "target": "loop_1", "sourceHandle": "value", "targetHandle": "input" },
    { "id": "e-loop-plan", "source": "loop_1", "target": "llm_plan", "sourceHandle": "output", "targetHandle": "prompt" },
    { "id": "e-plan-url", "source": "llm_plan", "target": "transform_url", "sourceHandle": "response", "targetHandle": "input" },
    { "id": "e-url-http", "source": "transform_url", "target": "http_search", "sourceHandle": "output", "targetHandle": "url" },
    { "id": "e-http-answer", "source": "http_search", "target": "llm_answer", "sourceHandle": "body", "targetHandle": "context" },
    { "id": "e-loop-answer", "source": "loop_1", "target": "llm_answer", "sourceHandle": "output", "targetHandle": "prompt" },
    { "id": "e-answer-router", "source": "llm_answer", "target": "router_eval", "sourceHandle": "response", "targetHandle": "input" },
    { "id": "e-router-exit", "source": "router_eval", "target": "exit_1", "sourceHandle": "branch-0", "targetHandle": "input" },
    { "id": "e-exit-out", "source": "exit_1", "target": "output_1", "sourceHandle": "output", "targetHandle": "value" }
  ],
  "viewport": { "x": 0, "y": 0, "zoom": 0.65 }
}
