{
  "nodes": [
    { "id": "input_1", "type": "input", "position": { "x": 50, "y": 250 }, "data": { "name": "query", "dataType": "text", "default": "Design a retry mechanism for a distributed task queue that handles both transient and permanent failures" } },
    { "id": "llm_local", "type": "llm", "position": { "x": 420, "y": 50 }, "data": { "label": "Qwen (Practical)", "provider": "ollama", "model": "qwen3", "systemPrompt": "You are a hands-on engineer. Focus on practical implementation:\n- Working code patterns and concrete examples\n- Edge cases and failure modes you've seen in real systems\n- Performance implications and tradeoffs\n- What actually breaks in production\n\nBe specific and technical. Show code where it helps.", "temperature": 0.4, "maxTokens": 2048 } },
    { "id": "llm_cloud", "type": "llm", "position": { "x": 420, "y": 420 }, "data": { "label": "Gemini (Architect)", "provider": "google", "model": "gemini-2.0-flash", "systemPrompt": "You are a systems architect. Focus on design thinking:\n- Architecture patterns and design principles\n- How this fits into larger system design\n- Scalability, reliability, and maintainability considerations\n- Industry best practices and standards (e.g., AWS, GCP patterns)\n- Comparisons between different approaches\n\nThink big picture. Reference established patterns.", "temperature": 0.7, "maxTokens": 2048 } },
    { "id": "transform_combine", "type": "transform", "position": { "x": 850, "y": 230 }, "data": { "mode": "template", "template": "You have two expert perspectives on this question:\n\n**Question**: {{input_1.query}}\n\n---\n\n**Engineer (practical, code-focused)**:\n{{llm_local.response}}\n\n---\n\n**Architect (design, big-picture)**:\n{{llm_cloud.response}}" } },
    { "id": "llm_synthesizer", "type": "llm", "position": { "x": 1200, "y": 230 }, "data": { "label": "Synthesizer", "provider": "google", "model": "gemini-2.0-flash", "systemPrompt": "You are an expert synthesizer. You receive two perspectives on the same question — one from a practical engineer and one from a systems architect.\n\nYour job:\n1. Identify the unique strengths of each response — what did each one get right that the other missed?\n2. Resolve any contradictions between them\n3. Produce a single, superior answer that combines the best of both: the architect's design clarity WITH the engineer's practical depth\n4. Structure your output as:\n   - **Summary** (2-3 sentences)\n   - **Combined Answer** (the synthesized best-of-both response)\n   - **What each model contributed** (brief — what came from the engineer vs the architect)\n\nThe result should be clearly better than either input alone.", "temperature": 0.3, "maxTokens": 3072 } },
    { "id": "output_1", "type": "output", "position": { "x": 1570, "y": 280 }, "data": { "name": "answer", "format": "text" } }
  ],
  "edges": [
    { "id": "e-input-local", "source": "input_1", "target": "llm_local", "sourceHandle": "output", "targetHandle": "prompt" },
    { "id": "e-input-cloud", "source": "input_1", "target": "llm_cloud", "sourceHandle": "output", "targetHandle": "prompt" },
    { "id": "e-local-combine", "source": "llm_local", "target": "transform_combine", "sourceHandle": "response", "targetHandle": "input" },
    { "id": "e-cloud-combine", "source": "llm_cloud", "target": "transform_combine", "sourceHandle": "response", "targetHandle": "input" },
    { "id": "e-combine-synth", "source": "transform_combine", "target": "llm_synthesizer", "sourceHandle": "output", "targetHandle": "prompt" },
    { "id": "e-synth-output", "source": "llm_synthesizer", "target": "output_1", "sourceHandle": "response", "targetHandle": "value" }
  ],
  "viewport": { "x": 0, "y": 0, "zoom": 0.85 }
}
